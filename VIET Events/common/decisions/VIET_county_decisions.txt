

VIET_decision_buy_valuable_medicinal_berries = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_viet_alchemy.dds" }
	decision_group_type = VIET_everyday
	desc = VIET_decision_buy_valuable_medicinal_berries_desc

	ai_check_interval_by_tier = {
		barony = 0
		county = 48
		duchy = 36
		kingdom = 36
		empire = 36
		hegemony = 36
	}
	
	cooldown = { days = 3650 }

	is_shown = {
		is_landed = yes
		any_directly_owned_province = {
			county = {
				has_county_modifier = VIET_berry_good_medicine_county
			}
		}
	}

	is_valid = {
		custom_description = {
			text = VIET_decision_buy_valuable_medicinal_berries_req
			any_directly_owned_province = {
				county = {
					has_county_modifier = VIET_berry_good_medicine_county
				}
			}
		}
		gold >= 25
	}

	is_valid_showing_failures_only = {
		is_adult = yes
		is_available = yes
	}

	effect = {
		custom_tooltip = VIET_decision_buy_valuable_medicinal_berries_effect_tooltip
		random_directly_owned_province = {
			limit = {
				county = {
					has_county_modifier = VIET_berry_good_medicine_county
				}
			}
			county = {
				save_scope_as = county	
			}
		}
		if = {
			limit = {
				has_game_rule = VIET_historical_context_on
			}
			custom_tooltip = VIET_decision_buy_valuable_medicinal_berries_context_tooltip
		}
		trigger_event = VIETmisc.2063
	}

	#cost = {
	#	gold = { value = minor_gold_value } # Will depend
	#}
	
	ai_potential = {
		gold > minor_gold_value
	}

	ai_will_do = {
		base = 30
	}
}

VIET_decision_employ_renowned_blacksmiths = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_viet_blacksmith.dds" }
	decision_group_type = VIET_everyday
	desc = VIET_decision_employ_renowned_blacksmiths_desc

	ai_check_interval_by_tier = {
		barony = 0
		county = 48
		duchy = 36
		kingdom = 36
		empire = 36
		hegemony = 36
	}
	
	cooldown = { days = 3650 }

	is_shown = {
		is_landed = yes
		any_directly_owned_province = {
			county = {
				has_county_modifier = VIET_renowned_blacksmith_region
			}
		}
	}

	is_valid = {
		custom_description = {
			text = VIET_decision_employ_renowned_blacksmiths_req
			any_directly_owned_province = {
				county = {
					has_county_modifier = VIET_renowned_blacksmith_region
				}
			}
		}
	}

	is_valid_showing_failures_only = {
		is_adult = yes
		is_available = yes
	}

	effect = {
		# Show the possible options.
		show_as_tooltip = {
			random_list = {
				desc = VIET_decision_employ_renowned_blacksmiths_effect_tooltip
				100 = {
					show_chance = no
					desc = VIET_decision_employ_renowned_blacksmiths.armor
					add_character_modifier = {
						modifier = VIET_employed_renowned_blacksmiths_armor
						years = 10
					}
				}
				100 = {
					show_chance = no
					desc = VIET_decision_employ_renowned_blacksmiths.weapons
					add_character_modifier = {
						modifier = VIET_employed_renowned_blacksmiths_weapons
						years = 10
					}
				}
				100 = {
					show_chance = no
					desc = VIET_decision_employ_renowned_blacksmiths.supplies
					add_character_modifier = {
						modifier = VIET_employed_renowned_blacksmiths_supplies
						years = 10
					}
				}
			}
		}
		if = {
			limit = {
				has_game_rule = VIET_historical_context_on
			}
			custom_tooltip = VIET_decision_employ_renowned_blacksmiths_context_tooltip
		}
		random_directly_owned_province = {
			limit = {
				county = {
					has_county_modifier = VIET_renowned_blacksmith_region
				}
			}
			county = {
				save_scope_as = county	
			}
		}
		trigger_event = VIETmisc.2064
	}

	cost = { 
		gold = {
			value = 0
			if = {
				limit = {
					has_treasury = no
				}
				add = medium_gold_value
			}
		}
		treasury = {
			value = 0
			if = {
				limit = {
					has_treasury = yes
				}
				add = medium_treasury_value
			}
		}
	}	
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 30
	}
}





VIET_decision_venerate_a_mummified_hermit = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_viet_buddhist_monk.dds" }
	decision_group_type = VIET_everyday
	desc = VIET_decision_venerate_a_mummified_hermit_desc

	ai_check_interval_by_tier = {
		barony = 0
		county = 48
		duchy = 36
		kingdom = 36
		empire = 36
		hegemony = 36
	}
	
	cooldown = { days = 3650 }

	is_shown = {
		is_landed = yes
		any_directly_owned_province = {
			county = {
				has_county_modifier = VIET_holy_hermit_passes_away
			}
		}
	}

	is_valid = {
		custom_description = {
			text = VIET_decision_venerate_a_mummified_hermit_req
			any_directly_owned_province = {
				county = {
					has_county_modifier = VIET_holy_hermit_passes_away
				}
			}
		}
		OR = {
			religion = religion:buddhism_religion
			religion = religion:bon_religion		
		}
	}

	is_valid_showing_failures_only = {
		is_adult = yes
		is_available = yes
	}

	effect = {
		stress_impact = {
			cynical = minor_stress_impact_gain
		}
		custom_tooltip = VIET_decision_venerate_a_mummified_hermit_effect_tooltip
		if = {
			limit = {
				has_game_rule = VIET_historical_context_on
			}
			custom_tooltip = VIET_decision_venerate_a_mummified_hermit_context_tooltip
		}
		add_character_flag = {
			flag = planning_an_activity
			days = 1
		}
		random_directly_owned_province = {
			limit = {
				county = {
					has_county_modifier = VIET_holy_hermit_passes_away
				}
			}
			county = {
				save_scope_as = county
				# county.title_province = {
				# 	spawn_activity = {
				# 		type = activity_VIET_veneration_of_a_mummified_hermit
				# 		owner = root
				# 	}			
				# }		
			}
		}
		trigger_event = VIETmisc.2070
	}

	cost = {
		gold = { value = VIET_activity_cost } # Will depend
	}
	
	ai_potential = {
		gold > VIET_activity_cost
	}

	ai_will_do = {
		base = 30
	}
}





VIET_decision_purchase_dependable_donkeys = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_viet_farm.dds" }
	decision_group_type = VIET_everyday
	desc = VIET_decision_purchase_dependable_donkeys_desc

	ai_check_interval_by_tier = {
		barony = 0
		county = 48
		duchy = 36
		kingdom = 36
		empire = 36
		hegemony = 36
	}
	
	cooldown = { days = 3650 }

	is_shown = {
		is_landed = yes
		any_directly_owned_province = {
			county = {
				has_county_modifier = VIET_reliable_donkeys
			}
		}
	}

	is_valid = {
		custom_description = {
			text = VIET_decision_purchase_dependable_donkeys_req
			any_directly_owned_province = {
				county = {
					has_county_modifier = VIET_reliable_donkeys
				}
			}
		}
		gold >= 30
	}

	is_valid_showing_failures_only = {
		is_adult = yes
		is_available = yes
	}

	effect = {
		random_directly_owned_province = {
			limit = {
				county = {
					has_county_modifier = VIET_reliable_donkeys
				}
			}
			county = {
				save_scope_as = county		
			}
		}
		# Show the possible options.
		show_as_tooltip = {
			random_list = {
				desc = VIET_decision_purchase_dependable_donkeys_effect_tooltip
				100 = {
					show_chance = no
					desc = VIET_decision_purchase_dependable_donkeys_effect_tooltip_small
					add_character_modifier = {
						modifier = VIET_small_herd_donkeys
						years = 10
					}
				}
				100 = {
					show_chance = no
					desc = VIET_decision_purchase_dependable_donkeys_effect_tooltip_medium
					add_character_modifier = {
						modifier = VIET_medium_herd_donkeys
						years = 10
					}
				}
				100 = {
					show_chance = no
					desc = VIET_decision_purchase_dependable_donkeys_effect_tooltip_large
					add_character_modifier = {
						modifier = VIET_large_herd_donkeys
						years = 10
					}
				}
			}
		}
		trigger_event = VIETmisc.2073
		if = {
			limit = {
				has_game_rule = VIET_historical_context_on
			}
			custom_tooltip = VIET_decision_purchase_dependable_donkeys_context_tooltip
		}
	}

	# cost = {
	# 	gold = { value = 30 } # Will depend
	# }
	
	ai_potential = {
		gold > 30
	}

	ai_will_do = {
		base = 30
	}
}





VIET_decision_add_more_dovecotes = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_viet_farm.dds" }
	decision_group_type = VIET_everyday
	desc = VIET_decision_add_more_dovecotes_desc

	ai_check_interval_by_tier = {
		barony = 0
		county = 48
		duchy = 36
		kingdom = 36
		empire = 36
		hegemony = 36
	}
	
	#cooldown = { days = 3650 }

	is_shown = {
		is_landed = yes
		has_character_modifier = VIET_dovecote_interest
	}

	is_valid = {
		has_character_modifier = VIET_dovecote_interest
		gold >= 50
	}

	is_valid_showing_failures_only = {
		is_adult = yes
		is_available = yes
	}

	effect = {
		remove_character_modifier = VIET_dovecote_interest
		# Show the possible options.
		show_as_tooltip = {
			random_list = {
				desc = VIET_decision_add_more_dovecotes_effect_tooltip
				100 = {
					show_chance = no
					desc = VIET_decision_add_more_dovecotes_effect_tooltip_small
					add_character_modifier = {
						modifier = VIET_built_dovecotes_small
						years = 15
					}
				}
				100 = {
					show_chance = no
					desc = VIET_decision_add_more_dovecotes_effect_tooltip_medium
					add_character_modifier = {
						modifier = VIET_built_dovecotes_medium
						years = 15
					}
				}
				100 = {
					show_chance = no
					desc = VIET_decision_add_more_dovecotes_effect_tooltip_large
					add_character_modifier = {
						modifier = VIET_built_dovecotes_large
						years = 15
					}
				}
			}
		}
		trigger_event = VIETmisc.2075
		if = {
			limit = {
				has_game_rule = VIET_historical_context_on
			}
			custom_tooltip = VIET_decision_add_more_dovecotes_context_tooltip
		}
	}

	# cost = {
	# 	gold = { value = 50 } # Will depend
	# }
	
	ai_potential = {
		gold > 50
	}

	ai_will_do = {
		base = 30
	}
}


VIET_decision_strawberry_garden = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_viet_meadow.dds" }
	decision_group_type = VIET_everyday
	desc = VIET_decision_strawberry_garden_desc

	ai_check_interval_by_tier = {
		barony = 0
		county = 48
		duchy = 36
		kingdom = 36
		empire = 36
		hegemony = 36
	}
	
	#cooldown = { days = 3650 }

	is_shown = {
		is_landed = yes
		any_held_county = {
			has_county_modifier = VIET_potential_strawberry_gardens
		}
	}

	is_valid = {
		custom_description = {
			text = VIET_decision_strawberry_garden_county_req
			capital_county = {
				has_county_modifier = VIET_potential_strawberry_gardens
			}
		}
		gold >= 100
	}

	is_valid_showing_failures_only = {
		is_adult = yes
		is_available = yes
	}

	effect = {
		VIET_create_strawberry_gardens_effect = yes
		trigger_event = VIETmisc.2083
		if = {
			limit = {
				has_game_rule = VIET_historical_context_on
			}
			custom_tooltip = VIET_decision_strawberry_garden_context_tooltip
		}
	}

	cost = { 
		gold = {
			value = 0
			if = {
				limit = {
					has_treasury = no
				}
				add = medium_gold_value
			}
		}
		treasury = {
			value = 0
			if = {
				limit = {
					has_treasury = yes
				}
				add = medium_treasury_value
			}
		}
	}	
	
	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 30
	}
}



VIET_decision_get_strawberries = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_viet_meadow.dds" }
	decision_group_type = VIET_everyday
	ai_check_interval_by_tier = {
		barony = 0
		county = 48
		duchy = 36
		kingdom = 36
		empire = 36
		hegemony = 36
	}

	cooldown = { days = 3650 }
	
	desc = VIET_decision_get_strawberries_desc
	
	is_shown = {
		is_playable_character = yes	
		trigger_if = {
			limit = {
				is_landless_ruler = yes
			}
			domicile.domicile_location.county = {
				has_county_modifier = VIET_famous_strawberry_gardens
			}
		}
		trigger_else = {
			OR = {
				any_held_county = {
					has_county_modifier = VIET_famous_strawberry_gardens
				}
				any_vassal_or_below = {
					any_held_county = {
						has_county_modifier = VIET_famous_strawberry_gardens
					}
				}
			}
		}
	}
	
	is_valid = {
		trigger_if = {
			limit = {
				is_landless_ruler = yes
			}
			custom_description = {
				text = VIET_decision_strawberries_landless_req
				domicile.domicile_location.county = {
					has_county_modifier = VIET_famous_strawberry_gardens
				}
			}
		}
		trigger_else = {
			custom_description = {
				text = VIET_decision_strawberries_landed_req
				OR = {
					any_held_county = {
						has_county_modifier = VIET_famous_strawberry_gardens
					}
					any_vassal_or_below = {
						any_held_county = {
							has_county_modifier = VIET_famous_strawberry_gardens
						}
					}
				}
			}
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
	
		#custom_tooltip = VIET_decision_get_strawberries_effect_tooltip_1

		show_as_tooltip = {
			VIET_harvest_strawberries_effect = yes
		}
		
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = VIET_decision_get_strawberries_context_tooltip
		}
		
		trigger_event = {
			id = VIETmisc.2084
		}
	}

	cost = { 
		gold = { value = minor_gold_value }
	}	

	ai_potential = {
		short_term_gold >= minor_gold_value
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = diligent
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
		modifier = {
			add = 10
			has_trait = gluttonous
		}
		modifier = {
			add = -10
			has_trait = temperate
		}
	}
}